
// Ast

enum MapSeparator {
	COLON,
	EQUAL,
	EQUALGREATER
}

interface MemberDeclaration {
}

interface Expression {
}

class Input {
	list<TypeDeclaration> declarations;
}

class TypeDeclaration {
	String name;
	list<list<String>> super;
	list<MemberDeclaration> members;
}

class FeatureDeclaration : MemberDeclaration {
	String name;
	TypeEx typeEx;
	list<Constraint> modifiersopt;
	Expression defaultvalopt;
}

class MethodDeclaration : MemberDeclaration {
	TypeEx returnType;
	String name;
	list<TypeEx> parametersopt;
}

class Constraint {
	StringConstraint stringConstraint;
	list<Multiplicity> multiplicityList;
}

class StringConstraint {
	KindKind kind;
	list<String> strings;
	String identifier;
	enum KindKind {
		LCHOICE,
		LSET
	}
}

class String {
	String identifier;
	String scon;
}

class Multiplicity {
	Integer lo;
	boolean hasNoUpperBound;
	Integer hi;
}

class TypeEx {
	Type type;
	list<Multiplicity> multiplicityList;
}

class Type {
	KindKind kind;
	boolean isReference;
	boolean isClosure;
	list<String> name;
	list<TypeEx> parametersopt;
	enum KindKind {
		LBOOL,
		LSTRING,
		LINT
	}
}

class LiteralExpression : Expression {
	String scon;
	Integer icon;
	Boolean bcon;
}

class StructuralExpression : Expression {
	list<StructuralExpressionDOLLAR1Item> mapEntries;
	list<String> name;
	list<Expression> expressionListopt;
}

class StructuralExpressionDOLLAR1Item {
	String identifier;
	MapSeparator mapSeparator;
	Expression expression;
}


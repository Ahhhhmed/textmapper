// generated by Textmapper; DO NOT EDIT

package selector

import (
	"github.com/inspirer/textmapper/tm-go/parsers/test"
)

type Selector func(nt test.NodeType) bool

var (
	Block       = func(t test.NodeType) bool { return t == test.Block }
	Decl1       = func(t test.NodeType) bool { return t == test.Decl1 }
	Decl2       = func(t test.NodeType) bool { return t == test.Decl2 }
	Test        = func(t test.NodeType) bool { return t == test.Test }
	Identifier  = func(t test.NodeType) bool { return t == test.Identifier }
	Declaration = OneOf(test.Declaration...)
	TokenSet    = OneOf(test.TokenSet...)
)

func OneOf(types ...test.NodeType) Selector {
	if len(types) == 0 {
		return func(test.NodeType) bool { return false }
	}
	const bits = 32
	size := (int(types[len(types)-1]) + bits - 1) / bits
	bitarr := make([]int32, size)
	for _, t := range types {
		bitarr[uint(t)/bits] |= 1 << (uint(t) % bits)
	}
	return func(t test.NodeType) bool {
		return bitarr[uint(t)/bits]&(1<<(uint(t)%bits)) != 0
	}
}
